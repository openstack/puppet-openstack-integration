---
# This file contains the tripleo jobs for the puppet modules
#
- job:
    name: tripleo-puppet-ci-centos-8-undercloud-containers
    parent: tripleo-ci-centos-8-undercloud-containers
    irrelevant-files:
      - ^.*\.md$
      - ^.*\.rst$
      - ^doc/.*$
      - ^etc/.*$
      - ^metadata.json$
      - ^releasenotes/.*$
      - ^requirements.txt$
      - ^test-requirements.txt$
      - ^LICENSE$
      - ^.gitreview$
      - ^.gitignore$
      - ^setup.cfg$
      - ^setup.py$
      - ^tox.ini$

- project-template:
    name: tripleo-puppet-undercloud
    check:
      jobs:
        - tripleo-puppet-ci-centos-8-undercloud-containers
    gate:
      jobs:
        - tripleo-puppet-ci-centos-8-undercloud-containers

- job:
    name: tripleo-puppet-ci-centos-8-standalone
    parent: tripleo-ci-centos-8-standalone
    irrelevant-files:
      - ^.*\.md$
      - ^.*\.rst$
      - ^doc/.*$
      - ^etc/.*$
      - ^metadata.json$
      - ^releasenotes/.*$
      - ^spec/.*$
      - ^requirements.txt$
      - ^test-requirements.txt$
      - ^LICENSE$
      - ^.gitreview$
      - ^.gitignore$
      - ^setup.cfg$
      - ^setup.py$
      - ^tox.ini$
    vars:
      featureset_override:
        standalone_environment_files:
          - 'environments/low-memory-usage.yaml'

- project-template:
    name: tripleo-puppet-standalone
    check:
      jobs:
        - tripleo-puppet-ci-centos-8-standalone
    gate:
      jobs:
        - tripleo-puppet-ci-centos-8-standalone
